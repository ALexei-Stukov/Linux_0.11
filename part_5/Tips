这一部分还是抄的代码居多，因为基本和打印、CPU中断有关，很麻烦，又不得不做。